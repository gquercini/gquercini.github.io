<!DOCTYPE html>
<html lang="en-us">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 4.8.0">

  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Gianluca Quercini">

  
  
  
    
  
  <meta name="description" content="Relational data modeling exercises">

  
  <link rel="alternate" hreflang="en-us" href="/courses/gadexed_en/tutorials/01-rel-data-modeling/">

  


  
  
  
  <meta name="theme-color" content="rgb(0, 136, 204)">
  

  
  
  
  <script src="/js/mathjax-config.js"></script>
  


  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0-1/css/all.min.css" integrity="sha256-4w9DunooKSr3MFXHXWyFER38WmPdm361bQS/2KUWZbU=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/github.min.css" crossorigin="anonymous" title="hl-light">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" disabled>
        
      
    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet.css" integrity="sha256-SHMGCYmST46SoyGgo4YR/9AlK1vf3ff84Aq9yK4hdqM=" crossorigin="anonymous">
    

    

    
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.1.2/lazysizes.min.js" integrity="sha256-Md1qLToewPeKjfAHU1zyPwOutccPAm5tahnaw7Osw0A=" crossorigin="anonymous" async></script>
      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" integrity="" crossorigin="anonymous" async></script>
      
    
      

      
      

      
    

  

  
  
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:400,700%7CRoboto:400,400italic,700%7CRoboto+Mono&display=swap">
  

  
  
  
  
  <link rel="stylesheet" href="/css/academic.css">

  




  


  

  <link rel="manifest" href="/index.webmanifest">
  <link rel="icon" type="image/png" href="/images/icon_hu68b06f59cdf252d86e7129a31e131766_426695_32x32_fill_lanczos_center_3.png">
  <link rel="apple-touch-icon" type="image/png" href="/images/icon_hu68b06f59cdf252d86e7129a31e131766_426695_192x192_fill_lanczos_center_3.png">

  <link rel="canonical" href="/courses/gadexed_en/tutorials/01-rel-data-modeling/">

  
  
  
  
  
    
    
  
  
  <meta property="twitter:card" content="summary">
  
  <meta property="og:site_name" content="Gianluca Quercini">
  <meta property="og:url" content="/courses/gadexed_en/tutorials/01-rel-data-modeling/">
  <meta property="og:title" content="Relational data modeling | Gianluca Quercini">
  <meta property="og:description" content="Relational data modeling exercises"><meta property="og:image" content="img/map[gravatar:%!s(bool=true) shape:circle]">
  <meta property="twitter:image" content="img/map[gravatar:%!s(bool=true) shape:circle]"><meta property="og:locale" content="en-us">
  
    
    
  

  



  


  


  





  <title>Relational data modeling | Gianluca Quercini</title>

</head>

<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" >

  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


  







<nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
  <div class="container">

    
    <div class="d-none d-lg-inline-flex">
      <a class="navbar-brand" href="/">Gianluca Quercini</a>
    </div>
    

    
    <button type="button" class="navbar-toggler" data-toggle="collapse"
            data-target="#navbar-content" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span><i class="fas fa-bars"></i></span>
    </button>
    

    
    <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
      <a class="navbar-brand" href="/">Gianluca Quercini</a>
    </div>
    

    
    
    <div class="navbar-collapse main-menu-item collapse justify-content-start" id="navbar-content">

      
      <ul class="navbar-nav d-md-inline-flex">
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#about"><span>Home</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#experience"><span>Experience</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#teaching"><span>Teaching</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#publications"><span>Publications</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#contact"><span>Contact</span></a>
        </li>

        
        

      

        
      </ul>
    </div>

    <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">
      

      

      

    </ul>

  </div>
</nav>


  

  

<div class="container-fluid docs">
  <div class="row flex-xl-nowrap">
    <div class="col-12 col-md-3 col-xl-2 docs-sidebar">
      


<script src="/js/toggle-menu.js"></script>







  
    
  




<form class="docs-search d-flex align-items-center">
  <button class="btn docs-toggle d-md-none p-0 mr-3" type="button" data-toggle="collapse" data-target="#docs-nav" aria-controls="docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    <span><i class="fas fa-bars"></i></span>
  </button>

  
</form>

<nav class="collapse docs-links" id="docs-nav">
  

  
  
  
  
  <div class="docs-toc-item">

    <a onclick=open_menu_on_click(this) id="tutorials" class="docs-toc-link" href="/courses/gadexed_en/tutorials/01-rel-data-modeling/">Tutorials</a>
    
    <div id="tutorials-ddowncontent" class="tutorials-ddowncontent ddowncontent">
    <ul class="nav docs-sidenav">
      
      <script>open_menu_on_load("tutorials".concat("-ddowncontent"))</script>
      <li class="active tutorials">
        <a href="/courses/gadexed_en/tutorials/01-rel-data-modeling/">1. Relational data modeling</a>
      </li>
      
      
      <li class="tutorials">
        <a href="/courses/gadexed_en/tutorials/02-sql/">2. SQL</a>
      </li>
      
      
      <li class="tutorials">
        <a href="/courses/gadexed_en/tutorials/data-warehouse/">4. Data warehousing</a>
      </li>
      
      
      <li class="tutorials">
        <a href="/courses/gadexed_en/tutorials/mongodb-data-modeling/">5. Data modeling in MongoDB</a>
      </li>
      
      
      <li class="tutorials">
        <a href="/courses/gadexed_en/tutorials/mongodb-queries/">6. Queries in MongoDB</a>
      </li>
      
      
      <li class="tutorials">
        <a href="/courses/gadexed_en/tutorials/neo4j/">7. Neo4j</a>
      </li>
      
      
      <li class="tutorials">
        <a href="/courses/gadexed_en/tutorials/cassandra-data-modeling/">8. Data modeling in Cassandra</a>
      </li>
      
      
      <li class="tutorials">
        <a href="/courses/gadexed_en/tutorials/cassandra-queries/">9. Queries in Cassandra</a>
      </li>
      
    </ul>
    </div>
    
    

  </div>
  
  
</nav>

    </div>

    

    <main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 docs-content" role="main">

      <article class="article">

        <div class="docs-article-container">
          <div class="heading">Gestion et analyse des données — Tutorial 1</div>
          <h1>Relational data modeling</h1>
          <hr>
          <div class="logo">
            
            </div>

          <div class="article-style">
            
<script src="/rmarkdown-libs/header-attrs/header-attrs.js"></script>


<p><link rel="stylesheet" href="/styles/course.css">
<link rel="stylesheet" href="/styles/cloud-computing.css"></p>
<p>The goal of this tutorial is to practice the design of a relational database.</p>
<p>The following topics are covered:</p>
<ul>
<li><strong>Conceptual schema</strong> of a relational database.</li>
<li><strong>Logical schema</strong> of a relational database.</li>
<li><strong>Primary keys</strong> and <strong>foreign keys</strong>.</li>
</ul>
<div id="application-scenario" class="section level1" number="1">
<h1><span class="header-section-number">1</span> Application scenario</h1>
<p>We intend to manage the data of a travel reservation system
with clients all over the world.
Upon registration, customers are automatically given a numeric identifier
and they are asked to indicate their first and family names, their gender,
date of birth, a phone number, an email address and their country of residence.</p>
<p>Any customer can book a trip that includes
the reservation of <strong>one or more flights</strong> and, possibly, <strong>one or more hotels</strong>.</p>
<div class="infobox warning">
<p><strong>Example</strong></p>
<p>Alice wants to fly from Paris,
France to New York City (NYC), USA
and she intends to stay in NYC for 10 days.
Her trip includes two flights: an outbound flight
from Paris to NYC and an inbound flight from NYC to Paris; and an hotel in NYC.</p>
</div>
<p>A flight is operated by an airline company,
of which the system keeps its name (e.g., British Airways),
the country where the airline is incorporated and, when available,
its IATA code (e.g., BA, a two-letter code identifying the airline),
its ICAO code (e.g., BAW, a three-letter code identifying the airline)
and alternate name or alias (e.g., British).</p>
<p>A flight connects two airports,
each having a name (e.g., London Heathrow Airport), and,
possibly, a IATA (e.g., LHR) and ICAO code (e.g., EGLL);
an airport serves a specific location (e.g., London, UK) and its precise position
is given by its geographic coordinates (latitude and longitude).</p>
<p>A flight connecting two airports at specific departure and arrival times
is identified by a flight number.
Two flights operated by two different airline companies cannot have the same flight number,
but the same flight number can denote two flights operated
by the same airline company on different days.</p>
<div class="infobox warning">
<p><strong>Example</strong></p>
<p>Emirates flight EK074 leaves Paris,
France at 10 AM and arrives at Dubai, UAE at 7:40 PM (regardless of the departure day).</p>
</div>
<p>For each flight booked by a customer,
the system keeps the seat number,
the travel class (e.g., economy or business),
the price and the date of the flight.
Usually, airlines include details on the type of aircraft
they plan to use on their flight schedules;
these details include the name of the aircraft (e.g., Boeing 787-8) and,
when available, the IATA code (e.g., 788, a unique three-letter identifier for the aircraft)
and the ICAO code (e.g., B788, a unique four-letter identifier for the aircraft).</p>
<p>The system maintains a list of hotels,
with their names and addresses.
Customers can write a review for an hotel;
in which case the system stores the text of the review,
the date and its author.
When a customer books an hotel, the system keeps the price paid,
the check-in and check-out dates and whether the breakfast is included.</p>
</div>
<div id="conceptual-schema" class="section level1" number="2">
<h1><span class="header-section-number">2</span> Conceptual schema</h1>
<p>The <strong>conceptual schema</strong> of the database is an abstract representation of the entities of the application and their relationships.
The conceptual schema does not include any implementation details,
such as the definition of primary keys or foreign keys, nor does it include any information about the attribute types.
The conceptual schema is usually represented through an
<strong>Entity-Relationship (ER) diagram</strong>.</p>
<div class="infobox exercisebox">
<p><strong>Exercise</strong></p>

<div class="exercise">
<p><span id="exr:unnamed-chunk-1" class="exercise"><strong>Exercise 2.1  </strong></span>
Propose an Entity-Relationship (ER) diagram describing the conceptual
model of a relational database for the given application context.</p>
<ul>
<li><p>Specify all the attributes for each entity and relation.</p></li>
<li><p>For each entity, underline the attributes composing the primary key.</p></li>
<li><p>For each relation, clearly indicate the minimum and maximum cardinality.</p></li>
</ul>
</div>
</div>
<details>
<summary>
Solution
</summary>
<div class="infobox exosolution">
<p><img src="/courses/databases/gadexed/tutorial-1/travel_db_conceptual.png" alt="Conceptual model of the travel agency database"></p>
</div>
</details>
</div>
<div id="logical-schema" class="section level1" number="3">
<h1><span class="header-section-number">3</span> Logical schema</h1>
<p>The <strong>logical schema</strong> of a relational database is the collection of tables
that implement the conceptual schema.
The logical schema includes the definition of primary keys and foreign keys,
but it does not include any information about the column types.</p>
<p><strong>Entity-Relationship (ER) diagram</strong>.</p>
<div class="infobox exercisebox">
<p><strong>Exercise</strong></p>

<div class="exercise">
<p><span id="exr:unnamed-chunk-2" class="exercise"><strong>Exercise 3.1  </strong></span>
Give the <strong>logical schema</strong> of the database.
For each table, underline the primary key and specify the foreign keys.</p>
</div>
</div>
<details>
<summary>
Solution
</summary>
<div class="infobox exosolution">
<p>customer (<u>cust_code</u>, first_name, last_name, gender, birth_date, phone_number, email_address, cust_country)</p>
<p>trip (<u>trip_code</u>, cust_code)</p>
<p>flight (<u>flight_id</u>, flight_number, flight_date, departure_time, arrival_time, departure_airport, arrival_airport, airline_name, aircraft_name)</p>
<p>hotel (<u>hotel_id</u>, hotel_name, hotel_address)</p>
<p>hotel_reservation (<u>trip_code</u>, <u>hotel_id</u>, price, checkin_date, checkout_date, breakfast)</p>
<p>flight_booking (<u>trip_code</u>, <u>flight_id</u>, seat_number , travel_class, booking_date, price)</p>
<p>review (<u>hotel_id</u>, <u>cust_code</u>, content, date)</p>
<p>airline (<u>airline_name</u>, airline_country, airline_iata, airline_icao, airline_alias)</p>
<p>aircraft (<u>aircraft_name</u>, aircraft_iata, aircraft_icao)</p>
<p>airport (<u>airport_id</u>, airport_name, airport_iata, airport_icao, city, country, latitude, longitude)</p>
<p><strong>Foreign keys:</strong></p>
<p>trip(cust_code) → customer(cust_code)</p>
<p>flight(departure_airport) → airport(airport_id)</p>
<p>flight(arrival_airport) → airport(airport_id)</p>
<p>flight(airline_name) → airline(airline_name)</p>
<p>flight(aircraft_name) → aircraft(aircraft_name)</p>
<p>hotel_reservation(hotel_id) → hotel(hotel_id)</p>
<p>flight_booking(trip_code) → trip(trip_code)</p>
<p>flight_booking(flight_id) → flight(flight_id)</p>
<p>review(cust_code) → customer(cust_code)</p>
<p>review(hotel_id) → hotel(hotel_id)</p>
<p>In table flight we introduced a surrogate primary key flight_id
to uniquely identify each flight instance.
However, the table is not in third normal form (3NF), because the departure_airport and arrival_airport
deped on flight_number.</p>
</div>
</details>
</div>

          </div>

          



          
        </div>

        
      </article>

      

    </main>
  </div>
</div>


      

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>

      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js" integrity="sha256-eOgo0OtLL4cdq7RdwRUiGKLX9XsIJ7nGhWEKbohmVAQ=" crossorigin="anonymous"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/r.min.js"></script>
        
      

    

    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet.js" integrity="sha256-EErZamuLefUnbMBQbsEqu1USa+btR2oIlCpBJbyD4/g=" crossorigin="anonymous"></script>
    

    
    
    <script>const code_highlighting = true;</script>
    

    
    
    <script>const isSiteThemeDark = false;</script>
    

    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.1/anchor.min.js" integrity="sha256-pB/deHc9CGfFpJRjC43imB29Rse8tak+5eXqntO94ck=" crossorigin="anonymous"></script>
    <script>
      anchors.add();
    </script>
    

    

    
    

    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    <script src="/js/academic.min.3da86581634ab22d5bb3fc4505df30a5.js"></script>

    






  
  

  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

</body>
</html>
