<!DOCTYPE html>
<html lang="en-us">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 4.8.0">

  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Gianluca Quercini">

  
  
  
    
  
  <meta name="description" content="Exercises on SQL">

  
  <link rel="alternate" hreflang="en-us" href="/courses/gadexed_en/tutorials/02-sql/">

  


  
  
  
  <meta name="theme-color" content="rgb(0, 136, 204)">
  

  
  
  
  <script src="/js/mathjax-config.js"></script>
  


  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0-1/css/all.min.css" integrity="sha256-4w9DunooKSr3MFXHXWyFER38WmPdm361bQS/2KUWZbU=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/github.min.css" crossorigin="anonymous" title="hl-light">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" disabled>
        
      
    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet.css" integrity="sha256-SHMGCYmST46SoyGgo4YR/9AlK1vf3ff84Aq9yK4hdqM=" crossorigin="anonymous">
    

    

    
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.1.2/lazysizes.min.js" integrity="sha256-Md1qLToewPeKjfAHU1zyPwOutccPAm5tahnaw7Osw0A=" crossorigin="anonymous" async></script>
      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" integrity="" crossorigin="anonymous" async></script>
      
    
      

      
      

      
    

  

  
  
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:400,700%7CRoboto:400,400italic,700%7CRoboto+Mono&display=swap">
  

  
  
  
  
  <link rel="stylesheet" href="/css/academic.css">

  




  


  

  <link rel="manifest" href="/index.webmanifest">
  <link rel="icon" type="image/png" href="/images/icon_hu68b06f59cdf252d86e7129a31e131766_426695_32x32_fill_lanczos_center_3.png">
  <link rel="apple-touch-icon" type="image/png" href="/images/icon_hu68b06f59cdf252d86e7129a31e131766_426695_192x192_fill_lanczos_center_3.png">

  <link rel="canonical" href="/courses/gadexed_en/tutorials/02-sql/">

  
  
  
  
  
    
    
  
  
  <meta property="twitter:card" content="summary">
  
  <meta property="og:site_name" content="Gianluca Quercini">
  <meta property="og:url" content="/courses/gadexed_en/tutorials/02-sql/">
  <meta property="og:title" content="SQL | Gianluca Quercini">
  <meta property="og:description" content="Exercises on SQL"><meta property="og:image" content="img/map[gravatar:%!s(bool=true) shape:circle]">
  <meta property="twitter:image" content="img/map[gravatar:%!s(bool=true) shape:circle]"><meta property="og:locale" content="en-us">
  
    
    
  

  



  


  


  





  <title>SQL | Gianluca Quercini</title>

</head>

<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" >

  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


  







<nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
  <div class="container">

    
    <div class="d-none d-lg-inline-flex">
      <a class="navbar-brand" href="/">Gianluca Quercini</a>
    </div>
    

    
    <button type="button" class="navbar-toggler" data-toggle="collapse"
            data-target="#navbar-content" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span><i class="fas fa-bars"></i></span>
    </button>
    

    
    <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
      <a class="navbar-brand" href="/">Gianluca Quercini</a>
    </div>
    

    
    
    <div class="navbar-collapse main-menu-item collapse justify-content-start" id="navbar-content">

      
      <ul class="navbar-nav d-md-inline-flex">
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#about"><span>Home</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#experience"><span>Experience</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#teaching"><span>Teaching</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#publications"><span>Publications</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#contact"><span>Contact</span></a>
        </li>

        
        

      

        
      </ul>
    </div>

    <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">
      

      

      

    </ul>

  </div>
</nav>


  

  

<div class="container-fluid docs">
  <div class="row flex-xl-nowrap">
    <div class="col-12 col-md-3 col-xl-2 docs-sidebar">
      


<script src="/js/toggle-menu.js"></script>







  
    
  




<form class="docs-search d-flex align-items-center">
  <button class="btn docs-toggle d-md-none p-0 mr-3" type="button" data-toggle="collapse" data-target="#docs-nav" aria-controls="docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    <span><i class="fas fa-bars"></i></span>
  </button>

  
</form>

<nav class="collapse docs-links" id="docs-nav">
  

  
  
  
  
  <div class="docs-toc-item">

    <a onclick=open_menu_on_click(this) id="tutorials" class="docs-toc-link" href="/courses/gadexed_en/tutorials/01-rel-data-modeling/">Tutorials</a>
    
    <div id="tutorials-ddowncontent" class="tutorials-ddowncontent ddowncontent">
    <ul class="nav docs-sidenav">
      
      
      <li class="tutorials">
        <a href="/courses/gadexed_en/tutorials/01-rel-data-modeling/">1. Relational data modeling</a>
      </li>
      
      <script>open_menu_on_load("tutorials".concat("-ddowncontent"))</script>
      <li class="active tutorials">
        <a href="/courses/gadexed_en/tutorials/02-sql/">2. SQL</a>
      </li>
      
      
      <li class="tutorials">
        <a href="/courses/gadexed_en/tutorials/data-warehouse/">4. Data warehousing</a>
      </li>
      
      
      <li class="tutorials">
        <a href="/courses/gadexed_en/tutorials/mongodb-data-modeling/">5. Data modeling in MongoDB</a>
      </li>
      
      
      <li class="tutorials">
        <a href="/courses/gadexed_en/tutorials/mongodb-queries/">6. Queries in MongoDB</a>
      </li>
      
      
      <li class="tutorials">
        <a href="/courses/gadexed_en/tutorials/neo4j/">7. Neo4j</a>
      </li>
      
      
      <li class="tutorials">
        <a href="/courses/gadexed_en/tutorials/cassandra-data-modeling/">8. Data modeling in Cassandra</a>
      </li>
      
      
      <li class="tutorials">
        <a href="/courses/gadexed_en/tutorials/cassandra-queries/">9. Queries in Cassandra</a>
      </li>
      
    </ul>
    </div>
    
    

  </div>
  
  
</nav>

    </div>

    

    <main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 docs-content" role="main">

      <article class="article">

        <div class="docs-article-container">
          <div class="heading">Gestion et analyse des données — Tutorial 2</div>
          <h1>SQL</h1>
          <hr>
          <div class="logo">
            
            </div>

          <div class="article-style">
            
<script src="/rmarkdown-libs/header-attrs/header-attrs.js"></script>


<p><link rel="stylesheet" href="/styles/course.css">
<link rel="stylesheet" href="/styles/cloud-computing.css"></p>
<p>The goal of this tutorial is to practice <strong>SQL queries</strong> on a
relational database.</p>
<div id="environment-setup" class="section level1">
<h1>Environment setup</h1>
<ul>
<li><p>Start the virtual machine with Remote Desktop Connection.</p></li>
<li><p>Open <em>pgAdmin4</em> (icon on the desktop).</p></li>
<li><p>On the left-side menu, right-click on <em>Servers</em> and select the <em>PostgreSQL 18</em> to connect.</p></li>
<li><p>When prompted, enter the password <code>postgres</code> to connect to the server.</p></li>
<li><p>Select the database <code>travel</code>.</p></li>
<li><p>Open a new query tool (right-click on the database <code>travel</code>, select <em>Query tool</em>).</p></li>
</ul>
</div>
<div id="database-schema" class="section level1">
<h1>Database schema</h1>
<p>The figure 1 shows the physical schema of the <code>travel</code> database.
You can also obtain it within pgAdmin4 by right-clicking on the database <code>travel</code>,
and selecting <em>ERD for database</em>.</p>
<div class="figure" style="text-align: center"><span id="fig:cnm"></span>
<img src="/courses/databases/gadexed/tutorial-2/travel_physical_schema.png" alt="The physical schema  of the travel database" width="100%" />
<p class="caption">
Figure 1: The physical schema of the travel database
</p>
</div>
</div>
<div id="foreign-key-contraints" class="section level1">
<h1>Foreign key contraints</h1>
<p>Look at the physical schema of the <code>travel</code> database.
Tables are linked through foreign key constraints.</p>
<p>For instance, the table <code>flight_booking</code> has a column <code>trip_id</code> that references
the column <code>trip_id</code> in the table <code>trip</code>.</p>
<div class="infobox exercisebox">
<p><strong>Exercise</strong></p>

<div class="exercise">
<p><span id="exr:unnamed-chunk-1" class="exercise"><strong>Exercise 1  </strong></span>
Try to delete a row from the table <code>trip</code> that is referenced by a row in the table <code>flight_booking</code>.
What happens?</p>
</div>
</div>
<details>
<summary>
Solution
</summary>
<div class="infobox exosolution">
<p>First, we need to identify a row in the table <code>trip</code> that is referenced by a row in the table <code>flight_booking</code>.</p>
<pre><code>SELECT * 
FROM flight_booking JOIN trip USING (trip_id)
LIMIT 1;</code></pre>
<p>The trip_id 0 is obtained from the output of the previous query.</p>
<p>Trying to delete the row from the table <code>trip</code>:</p>
<pre><code>DELETE FROM trip
WHERE trip_id = 0;</code></pre>
<p>Causes the following error:</p>
<pre><code>ERROR:  update or delete on table trip violates foreign key constraint flight_booking_trip_id_fkey on table flight_booking
Key (trip_id)=(0) is still referenced from table flight_booking. </code></pre>
<p>By default, the foreign key constraints prevent the deletion of a row that is referenced by another row in a different table.</p>
</div>
</details>
<p>Let’s loook at how the foreign key constraint is defined in table <code>flight_booking</code>.</p>
<ul>
<li>Right-click on the table <code>flight_booking</code> in the left-side menu.</li>
<li>Select <em>Properties</em>.</li>
<li>Select the <em>Constraints</em> tab.</li>
<li>Select the <em>Foreign Key</em> tab.</li>
<li>Select the foreign key constraint named <code>flight_booking_trip_id_fkey</code>.</li>
<li>Click on the pencil icon to edit the constraint.</li>
<li>Select the <em>Actions</em> tab.</li>
</ul>
<p>Here you can see that the action on delete is set to <em>No Action</em>.</p>
<div class="infobox exercisebox">
<p><strong>Exercise</strong></p>

<div class="exercise">
<p><span id="exr:unnamed-chunk-2" class="exercise"><strong>Exercise 2  </strong></span>
How is the update action defined for the foreign key constraint
<code>flight_booking_trip_id_fkey</code> in the table <code>flight_booking</code>?</p>
<p>Try to update a row in the table <code>trip</code> that is referenced by a row in the table <code>flight_booking</code>.
What happens?</p>
</div>
</div>
<details>
<summary>
Solution
</summary>
<div class="infobox exosolution">
<p>The update action is set to <em>Cascade</em>.
That means that if we update the value of the primary key in the table <code>trip</code>,
the corresponding foreign key values in the table <code>flight_booking</code> will be automatically updated.</p>
<p>Let’s update the trip_id 0 to 5432 in the table <code>trip</code>:</p>
<pre><code>UPDATE trip
SET trip_id = 5432
WHERE trip_id = 0;</code></pre>
<p>Now the corresponding foreign key values in the table <code>flight_booking</code> have been automatically updated.</p>
</details>
</div>
</div>
<div id="exploratory-sql-queries" class="section level1">
<h1>Exploratory SQL queries</h1>
<p>When working with a new database, it is important to explore the data
to get familiar with its structure and content.
We can use SQL queries to perform this exploration.</p>
<div class="infobox exercisebox">
<p><strong>Exercise</strong></p>

<div class="exercise">
<p><span id="exr:unnamed-chunk-3" class="exercise"><strong>Exercise 3  </strong></span></p>
<ol style="list-style-type: decimal">
<li><p>How many customers are men and how many are women?</p></li>
<li><p>What is the number of customers in each country?</p></li>
<li><p>What is the average age of customers in each country?</p></li>
<li><p>What is the total number of hotel reservations made for each hotel? Sort the results in descending order.</p></li>
<li><p>What is the total amount spent on hotel reservations by each customer?
Sort the results in descending order and show only the top 10 customers.</p></li>
<li><p>How many airports are there in each country? List only the countries with more than 10 airports.</p></li>
</ol>
</div>
</div>
<details>
<summary>
Solution
</summary>
<div class="infobox exosolution">
<ol style="list-style-type: decimal">
<li>How many customers are men and how many are women?</li>
</ol>
<pre><code>SELECT gender, COUNT(*) AS num_customers
FROM customer
GROUP BY gender</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>What is the number of customers in each country?</li>
</ol>
<pre><code>SELECT country, COUNT(*) AS num_customers
FROM customer
GROUP BY country</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>What is the average age of customers in each country?</li>
</ol>
<pre><code>SELECT country, AVG(EXTRACT(YEAR FROM AGE(CURRENT_DATE, birth_date))) AS avg_age
FROM customer
GROUP BY country</code></pre>
<ol start="4" style="list-style-type: decimal">
<li>What is the total number of hotel reservations made for each hotel? Sort the results in descending order.</li>
</ol>
<pre><code>SELECT hotel_id, COUNT(*) AS num_reservations
FROM hotel_booking
GROUP BY hotel_id
ORDER BY num_reservations DESC</code></pre>
<ol start="5" style="list-style-type: decimal">
<li>What is the total amount spent on hotel reservations by each customer?
Sort the results in descending order and show only the top 10 customers.</li>
</ol>
<pre><code>SELECT customer_id, SUM(price) AS total_spent
FROM hotel_booking JOIN trip USING (trip_id)
GROUP BY customer_id
ORDER BY total_spent DESC
LIMIT 10</code></pre>
<ol start="6" style="list-style-type: decimal">
<li>How many airports are there in each country? List only the countries with more than 10 airports.</li>
</ol>
<pre><code>SELECT country, COUNT(*) AS num_airports
FROM airport
GROUP BY country
HAVING COUNT(*) &gt; 10</code></pre>
</details>
</div>
</div>
<div id="business-queries" class="section level1">
<h1>Business queries</h1>
<p>Suppose you are working for the travel agency that owns the database.
You have been asked to provide some insights based on the data stored in the database.</p>
<div class="infobox exercisebox">
<strong>Exercise</strong>

<div class="exercise">
<p><span id="exr:unnamed-chunk-4" class="exercise"><strong>Exercise 4  </strong></span></p>
<ol style="list-style-type: decimal">
<li><p>Identify the top 5 most popular destinations based on the number of flights booked.</p></li>
<li><p>Find the average duration of hotel stays for each hotel.</p></li>
<li><p>Determine the customers who have made the highest number of trip bookings.</p></li>
<li><p>Analyze the monthly trends in flight bookings and hotel reservations.</p></li>
<li><p>List the details of the trip number 1. In particular, list the first and last names of the customer, and, for each flight, the departure and arrival airports,
the departure date, and the departure and arrival city of the airports.</p></li>
</ol>
</div>
</div>
<details>
<summary>
Solution
</summary>
<div class="infobox exosolution">
<ol style="list-style-type: decimal">
<li>Identify the top 5 most popular destinations based on the number of flights booked.</li>
</ol>
<pre><code>SELECT airport_dst, city, country,  COUNT(*) AS num_bookings
FROM flight_booking JOIN flight USING (flight_id)
        JOIN airport ON airport_id=airport_dst
GROUP BY airport_dst, city, country
ORDER BY num_bookings DESC
LIMIT 5</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Find the average duration of hotel stays for each hotel.</li>
</ol>
<pre><code>SELECT hotel_id, AVG(CHECKOUT_DATE - CHECKIN_DATE) AS avg_stay_duration
FROM hotel_booking
GROUP BY hotel_id</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>Determine the 10 customers who have made the highest number of (hotel and flight) bookings.</li>
</ol>
<pre><code>SELECT customer_id, first_name, last_name, COUNT(*) AS num_bookings
FROM (
    SELECT customer_id, first_name, last_name
    FROM flight_booking JOIN trip USING (trip_id) JOIN customer USING(customer_id)
    UNION ALL
    SELECT customer_id, first_name, last_name
    FROM hotel_booking JOIN trip USING (trip_id) JOIN customer USING(customer_id)
) AS all_bookings
GROUP BY customer_id , first_name, last_name
ORDER BY num_bookings DESC
LIMIT 10</code></pre>
<ol start="4" style="list-style-type: decimal">
<li>Analyze the monthly trends in flight bookings and hotel reservations.</li>
</ol>
<pre><code>-- Flight bookings by month
SELECT EXTRACT(MONTH FROM departure_date) AS month, COUNT(*) AS num_flights
FROM flight_booking JOIN flight USING (flight_id)
GROUP BY month
ORDER BY month;

-- Hotel reservations by month
SELECT EXTRACT(MONTH FROM check_in_date) AS month, COUNT(*) AS num_reservations
FROM hotel_booking
GROUP BY month
ORDER BY month;</code></pre>
<ol start="5" style="list-style-type: decimal">
<li>List the details of the trip number 1. In particular, list the first and last names of the customer, and, for each flight, the departure and arrival airports,
the departure date, and the departure and arrival city of the airports.</li>
</ol>
<pre><code>SELECT c.first_name,
        c.last_name, 
        s.airport_name as departure_airport, 
        concat(s.city, &#39;, &#39;, s.country) as departure_loc, 
        departure_date,
        d.airport_name as arrival_airport,
        concat(d.city, &#39;, &#39;, d.country) as arrival_loc
FROM customer c
    JOIN trip t USING (customer_id)
    JOIN flight_booking USING (trip_id)
    JOIN flight f USING(flight_id)
    JOIN airport s ON s.airport_id = f.airport_src 
    JOIN airport d ON d.airport_id = f.airport_dst
WHERE t.trip_id=1</code></pre>
</details>
</div>
<!--
# Installing PostgreSQL

In this tutorial you'll be using **PostgreSQL** as a 
relational database management system (RDBMS).

<details>
<summary>Instructions for Windows users</summary>

You can download the latest version of PostgreSQL (14.3) 
[**from this page**](https://www.enterprisedb.com/downloads/postgres-postgresql-downloads){target="_blank"}.

The installer contains:

* The PostgreSQL server.
* pgAdmin, a graphical administration tool. 

You'll find **detailed installation instructions** [**on this page**](https://www.enterprisedb.com/docs/supported-open-source/postgresql/installer/02_installing_postgresql_with_the_graphical_installation_wizard/01_invoking_the_graphical_installer/){target="_blank"}.

</details>

<details>
<summary>Instructions for macOS users</summary>

The best way to get PostgreSQL is to download and install **Postgres.app**. 
You'll find more details [**on this page**](https://postgresapp.com/){target="_blank"}.

In addition, you need to [**install pgAdmin**](https://www.pgadmin.org/download/){target="blank"},
ad administration tool that lets you interact with your database through a 
graphical interface.

</details>


# Starting PostgreSQL and pgAdmin

<details>
<summary>Instructions for Windows users</summary>




Once the installation is completed, a PostgreSQL server should be 
automatically started. 

You'll open a connection to the server through the following steps:

* Execute pgAdmin.

* On the left-side menu, right-click on *Servers* and select *Create server*.

* In the *General* tab, give the server a name of your choice.

* In the *Connection* tab, write *localhost* as *host*. 
Don't change the values of the other options.

<details>
<summary>What if I get the *Unable to connect to server* error?</summary>

You might want to have a look at the list of the services running on your computer to verify
whether the PostgreSQL server is actually running. 

[**This page**](https://www.dell.com/support/kbdoc/it-it/000126393/how-to-use-windows-services-to-start-or-stop-services){target="_blank"} 
explains you how to open the panel with the list of services.
You should locate PostgreSQL in this panel. If the service is not running, you'll 
need to manually start it.

</details>



</details>

<details>
<summary>Instructions for MacOS users</summary>

You'll open a connection to the server through the following steps:

* Execute pgAdmin.

* On the left-side menu, right-click on *Servers* and select *Create server*.

* In the *General* tab, give the server a name of your choice.

* In the *Connection* tab, write *localhost* as *host*. 
Don't change the values of the other options.

</details>

-->
</div>

          </div>

          



          
        </div>

        
      </article>

      

    </main>
  </div>
</div>


      

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>

      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js" integrity="sha256-eOgo0OtLL4cdq7RdwRUiGKLX9XsIJ7nGhWEKbohmVAQ=" crossorigin="anonymous"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/r.min.js"></script>
        
      

    

    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet.js" integrity="sha256-EErZamuLefUnbMBQbsEqu1USa+btR2oIlCpBJbyD4/g=" crossorigin="anonymous"></script>
    

    
    
    <script>const code_highlighting = true;</script>
    

    
    
    <script>const isSiteThemeDark = false;</script>
    

    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.1/anchor.min.js" integrity="sha256-pB/deHc9CGfFpJRjC43imB29Rse8tak+5eXqntO94ck=" crossorigin="anonymous"></script>
    <script>
      anchors.add();
    </script>
    

    

    
    

    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    <script src="/js/academic.min.3da86581634ab22d5bb3fc4505df30a5.js"></script>

    






  
  

  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

</body>
</html>
