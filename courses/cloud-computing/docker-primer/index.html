<!DOCTYPE html>
<html lang="en-us">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 4.8.0">

  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Gianluca Quercini">

  
  
  
    
  
  <meta name="description" content="An introduction to Docker">

  
  <link rel="alternate" hreflang="en-us" href="/courses/cloud-computing/docker-primer/">

  


  
  
  
  <meta name="theme-color" content="rgb(0, 136, 204)">
  

  
  
  
  <script src="/js/mathjax-config.js"></script>
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0-1/css/all.min.css" integrity="sha256-4w9DunooKSr3MFXHXWyFER38WmPdm361bQS/2KUWZbU=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/github.min.css" crossorigin="anonymous" title="hl-light">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" disabled>
        
      
    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet.css" integrity="sha256-SHMGCYmST46SoyGgo4YR/9AlK1vf3ff84Aq9yK4hdqM=" crossorigin="anonymous">
    

    

    
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.1.2/lazysizes.min.js" integrity="sha256-Md1qLToewPeKjfAHU1zyPwOutccPAm5tahnaw7Osw0A=" crossorigin="anonymous" async></script>
      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" integrity="" crossorigin="anonymous" async></script>
      
    
      

      
      

      
    

  

  
  
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:400,700%7CRoboto:400,400italic,700%7CRoboto+Mono&display=swap">
  

  
  
  
  
  <link rel="stylesheet" href="/css/academic.css">

  




  


  

  <link rel="manifest" href="/index.webmanifest">
  <link rel="icon" type="image/png" href="/images/icon_hu68b06f59cdf252d86e7129a31e131766_426695_32x32_fill_lanczos_center_2.png">
  <link rel="apple-touch-icon" type="image/png" href="/images/icon_hu68b06f59cdf252d86e7129a31e131766_426695_192x192_fill_lanczos_center_2.png">

  <link rel="canonical" href="/courses/cloud-computing/docker-primer/">

  
  
  
  
  
    
    
  
  
  <meta property="twitter:card" content="summary">
  
  <meta property="og:site_name" content="Gianluca Quercini">
  <meta property="og:url" content="/courses/cloud-computing/docker-primer/">
  <meta property="og:title" content="Docker primer | Gianluca Quercini">
  <meta property="og:description" content="An introduction to Docker"><meta property="og:image" content="img/map[gravatar:%!s(bool=true) shape:circle]">
  <meta property="twitter:image" content="img/map[gravatar:%!s(bool=true) shape:circle]"><meta property="og:locale" content="en-us">
  
    
    
  

  



  


  


  





  <title>Docker primer | Gianluca Quercini</title>

</head>

<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" >

  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


  







<nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
  <div class="container">

    
    <div class="d-none d-lg-inline-flex">
      <a class="navbar-brand" href="/">Gianluca Quercini</a>
    </div>
    

    
    <button type="button" class="navbar-toggler" data-toggle="collapse"
            data-target="#navbar-content" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span><i class="fas fa-bars"></i></span>
    </button>
    

    
    <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
      <a class="navbar-brand" href="/">Gianluca Quercini</a>
    </div>
    

    
    
    <div class="navbar-collapse main-menu-item collapse justify-content-start" id="navbar-content">

      
      <ul class="navbar-nav d-md-inline-flex">
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#about"><span>Home</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#experience"><span>Experience</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#teaching"><span>Teaching</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#publications"><span>Publications</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#contact"><span>Contact</span></a>
        </li>

        
        

      

        
      </ul>
    </div>

    <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">
      

      

      

    </ul>

  </div>
</nav>


  

<div class="container-fluid docs">
  <div class="row flex-xl-nowrap">
    <div class="col-12 col-md-3 col-xl-2 docs-sidebar">
      





  
    
  




<form class="docs-search d-flex align-items-center">
  <button class="btn docs-toggle d-md-none p-0 mr-3" type="button" data-toggle="collapse" data-target="#docs-nav" aria-controls="docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    <span><i class="fas fa-bars"></i></span>
  </button>

  
</form>

<nav class="collapse docs-links" id="docs-nav">

  

  
  
  
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/courses/cloud-computing/">Overview</a>
    <ul class="nav docs-sidenav">
      
      <li >
        <a href="/courses/cloud-computing/">Cloud Computing</a>
      </li>
      
      <li >
        <a href="/courses/cloud-computing/installing-docker/">Installing Docker</a>
      </li>
      
    </ul>
    

  </div>
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/courses/cloud-computing/lectures/">Lectures</a>
    <ul class="nav docs-sidenav">
      
      <li >
        <a href="/courses/cloud-computing/lectures/">Lectures overview</a>
      </li>
      
    </ul>
    

  </div>
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/courses/cloud-computing/cc-tutorials/">Tutorials</a>
    <ul class="nav docs-sidenav">
      
      <li >
        <a href="/courses/cloud-computing/cc-tutorials/">Tutorials overview</a>
      </li>
      
      <li >
        <a href="/courses/cloud-computing/tutorial-docker/">1. Getting started with Docker</a>
      </li>
      
    </ul>
    

  </div>
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/courses/cloud-computing/cc-labs/">Lab assignments</a>
    <ul class="nav docs-sidenav">
      
      <li >
        <a href="/courses/cloud-computing/cc-labs/">Labs overview</a>
      </li>
      
    </ul>
    

  </div>
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/courses/cloud-computing/exam-presentation/">Exam</a>
    <ul class="nav docs-sidenav">
      
      <li >
        <a href="/courses/cloud-computing/exam-presentation/">Grading</a>
      </li>
      
    </ul>
    

  </div>
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/courses/cloud-computing/cc-references/">Resources</a>
    <ul class="nav docs-sidenav">
      
      <li >
        <a href="/courses/cloud-computing/cc-references/">References</a>
      </li>
      
      <li class="active">
        <a href="/courses/cloud-computing/docker-primer/">Docker primer</a>
      </li>
      
      <li >
        <a href="/courses/cloud-computing/docker-cheat-sheet/">Docker Cheat Sheet</a>
      </li>
      
      <li >
        <a href="/courses/cloud-computing/linux-introduction/">Introduction to Linux</a>
      </li>
      
    </ul>
    

  </div>
  
  
</nav>

    </div>

    

    <main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 docs-content" role="main">

      <article class="article">

        <div class="docs-article-container">
          <div class="heading">Cloud computing — Docker primer</div>
          <h1>Docker primer</h1>
          <hr>
          <div class="logo">
            <p><img src="/img/cs-logo.png" width="20%" style="display: block; margin: auto;" /></p>
            </div>

          <div class="article-style">
            


<p><link rel="stylesheet" href="/styles/course.css">
<link rel="stylesheet" href="/styles/cloud-computing.css"></p>
<p><strong>This page is still under construction</strong></p>
<div id="introduction" class="section level1">
<h1><span class="header-section-number">1</span> Introduction</h1>
<p><strong>Docker</strong> is defined as
<a href="https://docs.docker.com/engine/docker-overview/" target="_blank">“an open platform for developing,
shipping and running applications”</a>.</p>
<p>In order to understand the importance of Docker in software development, it is useful
to make an analogy to the transportation industry <span class="citation">(Schenker 2018)</span>.
Before the advent of <em>containers</em>, goods were packaged in
boxes of different types and dimensions.
As a result, loading and unloading the merchandise from
ships or trucks was a long and tedious
task, because each package needed to be handled in a different way.
Containers, on the other hand, have standard dimensions and thus the process of loading/unloading them
could be standardized as well.</p>
<p>Similarly, before the advent of Docker, the development and deployment of a new software application in
an enterprise was extremely complicated.
Different teams of <em>developers</em> would produce different types of applications
that the <em>operations engineers</em> would need to install on production servers.
Commonly, these applications rely on external libraries that need to be installed
on the production server; sometimes, two applications may depend on different versions of the same library
that might not be completely compatible between each other.</p>
<p>Docker addresses this issue by providing the ability of packaging software applications
with all their dependencies into isolated environment called, not suprisingly, <strong>containers</strong>.
The operations engineers don’t need to know the dependencies of each application, they just see
the container as a black box that can be handled in a standardized way, no matter the application it contains.</p>
<div class="infobox curiosity">
<p><strong>Did you know?</strong></p>
<p>The word <em>docker</em> refers to a worker whose task is loading and unloading goods from a mean of
transportation, such as a truck, train, ship or airplanes.</p>
</div>
<p>Docker is based on a <strong>client-server architecture</strong> (Figure <a href="#fig:docker-architecture">1.1</a>).</p>
<div class="figure" style="text-align: center"><span id="fig:docker-architecture"></span>
<img src="/courses/cloud-computing/docker-architecture.svg" alt="[Docker architecture](https://docs.docker.com/engine/docker-overview/)" width="100%" />
<p class="caption">
Figure 1.1: <a href="https://docs.docker.com/engine/docker-overview/">Docker architecture</a>
</p>
</div>
<p>The <em>client</em> (in our case, a command-line terminal) talks to the <em>server</em> (the Docker daemon) by sending some commands
that the server can understand.
The role of the Docker daemon is to manage all the Docker objects necessary to run containerized applications.
Two objects are particularly important to this purpose: images and containers.</p>
<p>An <strong>image</strong> is essentially an archive that contains a filesystem with the necessary files and commands to build and
run an application.
An image can be seen as a template with the necessary instructions for creating a Docker container.</p>
<p>The Docker daemon looks for images in a special repository called a <strong>registry</strong>;
as of the time writing, some public registries exist, such as <a href="https://hub.docker.com/_/registry">Docker Hub</a>,
<a href="https://cloud.google.com/container-registry">Google</a>, <a href="https://aws.amazon.com/ecr/">Amazon AWS</a> and
<a href="https://azure.microsoft.com/en-us/services/container-registry/">Microsoft Azure</a>.
If not instructed otherwise, the Docker daemon is configured to look in the Docker Hub registry.</p>
<p>A <strong>container</strong> is a runnable instance of an image.
In order to run a container:</p>
<div id="first-example-hello-world" class="section level2">
<h2><span class="header-section-number">1.1</span> First example: Hello World</h2>
<p>In the Docker Hub registry you can find an <a href="https://hub.docker.com/_/hello-world">image called <em>hello-world</em></a>
that contains a simple application written in C that prints a “hello world” message on screen.</p>
<p>Open the terminal and type the following command:</p>
<pre><code>docker run --name hello-world hello-world</code></pre>
<ul>
<li>The image <em>hello-world</em> includes a binary file that has been compiled on Linux.
Yet, you can execute it even if your computer runs another operating system, such as Windows and
MacOS.
This is possible because Docker runs the containers in a Linux Virtual Machine.</li>
</ul>
<details>
<p><summary>What is an image?</summary></p>
<p>You can think of an <strong>image</strong> as a set of instructions that need
to be executed to create and run a container;
each instruction corresponds to a <strong>layer</strong> in the image.
A <strong>layer</strong> is a filesystem that contains files and folders.</p>
<p><img src="/img/cc/docker-tutorial/image-layers.png" /></p>
<p>The above figure shows the layers of the image <em>hello-world</em> that we used
before.
For the moment, don’t worry about the syntax of the instructions that you see in the figure.
We’ll study them in a minute.</p>
<p>The <strong>base layer</strong> corresponds to the following instruction:</p>
<p><code>COPY hello /</code></p>
<p>which copies a file named <em>hello</em> from the machine where the image
has been created to the root folder (represented by /) in the image.</p>
<p>The <strong>layer 2</strong> corresponds to the following instruction:</p>
<p><code>CMD [&quot;/hello&quot;]</code></p>
<p>that will be executed when a container is run from this image.
This instruction will execute the binary file <em>hello</em>.
This layer doesn’t contain any file and folder, but just
a command.</p>
<p>All layers in an image are <strong>immutable</strong>, which means that
they cannot be modified.
By virtue of their immutability, layers can be stored as separate
entities (not belonging to any specific images) and can therefore be
shared among different images.</p>
<div id="so-what-happens-when-i-run-a-container" class="section level4">
<h4><span class="header-section-number">1.1.0.1</span> So, what happens when I run a container?</h4>
<p>When we invoke the run command on an image, the Docker engine
creates a new container from that image and adds a new layer
(also known as the <em>container layer</em>) that is writable;
this means that all the files created within the container
will be written to this new container layer.
When we executed the command <code>wget</code> within the Ubuntu container,
we downloaded some pictures from a Web page, and those pictures
have been saved in the writable layer of the container.</p>
<p>The image below shows that many containers can be run from<br />
the same image;
the different containers can share the immutable layers
of the image (which saves a lot of disk space), and each container
will have its own writable container layer.</p>
</details>
</div>
</div>
</div>
<div id="single-host-networking" class="section level1">
<h1><span class="header-section-number">2</span> Single-host networking</h1>
<div id="cnm" class="section level2">
<h2><span class="header-section-number">2.1</span> Container network model</h2>
<p>In order to let containers communicate and, therefore, co-operate,
Docker defines a simple networking model known as
the <strong>container network model</strong> (CNM), illustrated
in the following figure.</p>
<div class="figure" style="text-align: center"><span id="fig:cnm"></span>
<img src="/courses/cloud-computing/cnm.png" alt="The container network model" width="100%" />
<p class="caption">
Figure 2.1: The container network model
</p>
</div>
<p><img src="/img/cc/docker-tutorial/cnm.png" /></p>
<p>The figure shows three containers (from left to right, Athos, Porthos and Aramis);
the CNM consists of three elements:</p>
<ul>
<li><strong>Sandbox.</strong> It contains
the network configuration of the container, such as IP and MAC addresses, routing tables and
DNS records.</li>
<li><strong>Endpoint.</strong> Connection between the sandbox and a network.</li>
<li><strong>Network.</strong> Object that provides the function to connect two or more endpoints.</li>
</ul>
<p>The actual implementation of the network is called a <strong>driver</strong>.
Docker provides some built-in drivers, such as <em>bridge</em>, <em>host</em>, <em>overlay</em> and <em>null</em>;
third-party drivers can be used by installing the corresponding plugins.</p>
</div>
</div>
<div id="references" class="section level1 unnumbered">
<h1>References</h1>
<div id="refs" class="references">
<div id="ref-Schenker2018">
<p>Schenker, Gabriel. 2018. <em>Learn Docker - Fundamentals of Docker 18.x</em>. 1st edition. Packt Publishing,</p>
</div>
</div>
</div>

          </div>

          



          
        </div>

        
      </article>

      

    </main>
  </div>
</div>


      

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>

      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js" integrity="sha256-eOgo0OtLL4cdq7RdwRUiGKLX9XsIJ7nGhWEKbohmVAQ=" crossorigin="anonymous"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/r.min.js"></script>
        
      

    

    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet.js" integrity="sha256-EErZamuLefUnbMBQbsEqu1USa+btR2oIlCpBJbyD4/g=" crossorigin="anonymous"></script>
    

    
    
    <script>const code_highlighting = true;</script>
    

    
    
    <script>const isSiteThemeDark = false;</script>
    

    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.1/anchor.min.js" integrity="sha256-pB/deHc9CGfFpJRjC43imB29Rse8tak+5eXqntO94ck=" crossorigin="anonymous"></script>
    <script>
      anchors.add();
    </script>
    

    

    
    

    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    <script src="/js/academic.min.6f7ce8be710290b8c431bbc97f405d15.js"></script>

    






  
  

  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

</body>
</html>
